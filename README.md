# Photo Watermark 2 - 照片水印工具

一个功能强大的照片水印添加工具，支持批量处理、实时预览和多种水印样式。

## 功能完成情况

### 1. 文件处理 ✅ 已完成

#### 1.1 导入图片 ✅ 已完成
- ✅ 支持单张图片导入（通过文件选择器）
- ✅ 支持批量导入（一次性选择多张图片）
- ✅ 支持文件夹导入（自动扫描文件夹内所有图片）
- ✅ 界面显示已导入图片列表（文件名和索引）

#### 1.2 支持格式 ✅ 已完成
- ✅ **输入格式**：JPEG, PNG, BMP, TIFF
- ✅ **PNG透明通道**：完全支持PNG格式的透明通道
- ✅ **输出格式**：JPEG（默认），PNG（保持透明通道）
- ✅ **格式转换**：自动处理RGBA到RGB的转换

#### 1.3 导出图片 ✅ 已完成
- ✅ **输出文件夹选择**：用户可指定输出目录
- ✅ **防覆盖保护**：默认禁止导出到原文件夹
- ✅ **文件命名规则**：
  - ✅ 添加后缀（如 `_watermarked`）
  - ✅ 保留原文件名
- ✅ **JPEG质量调节**：0-100%压缩率滑块
- ❌ **图片尺寸调整**：暂未实现（可选高级功能）

### 2. 水印类型

#### 2.1 文本水印 ✅ 已完成
- ✅ **自定义文本**：支持任意文本输入
- ✅ **字体设置**：系统字体、字号调节（10-200px）
- ✅ **颜色选择**：调色板选择字体颜色
- ✅ **透明度调节**：0-100%透明度滑块
- ✅ **中文支持**：完美支持中文显示（无乱码）
- ❌ **字体样式**：粗体、斜体（可选高级功能）
- ❌ **阴影描边**：阴影或描边效果（可选高级功能）

#### 2.2 图片水印 ❌ 未实现
- ❌ **图片水印**：暂未实现（可选高级功能）
- ❌ **PNG透明支持**：暂未实现
- ❌ **缩放功能**：暂未实现
- ❌ **透明度调节**：暂未实现

### 3. 水印布局与样式

#### 3.1 实时预览 ✅ 已完成
- ✅ **实时预览**：所有调整立即显示效果
- ✅ **图片切换**：点击列表切换预览不同图片
- ✅ **高刷新率**：流畅的实时更新体验

#### 3.2 位置 ✅ 已完成
- ✅ **九宫格布局**：左上、中上、右上、左中、居中、右中、左下、中下、右下
- ✅ **手动拖拽**：在预览图上直接拖拽调整位置
- ✅ **精确控制**：支持任意坐标位置
- ✅ **边界保护**：防止水印超出图片范围

#### 3.3 旋转 ✅ 已完成
- ✅ **任意角度旋转**：-180°到+180°滑块控制
- ✅ **中心旋转**：围绕文字中心旋转
- ✅ **实时预览**：旋转效果实时显示

### 4. 配置管理

#### 4.1 水印模板 ❌ 未实现
- ❌ **保存模板**：暂未实现
- ❌ **加载模板**：暂未实现
- ❌ **管理模板**：暂未实现
- ❌ **自动加载**：暂未实现

## 技术特性

### 已实现的高级功能
- ✅ **拖拽调整**：直观的鼠标拖拽操作
- ✅ **中文支持**：完美支持中文字体显示
- ✅ **实时预览**：所有操作立即生效
- ✅ **批量处理**：一次性处理多张图片
- ✅ **格式兼容**：支持主流图片格式
- ✅ **质量控制**：JPEG压缩质量可调

### 界面设计
- ✅ **现代化UI**：使用tkinter构建的直观界面
- ✅ **响应式布局**：自适应窗口大小
- ✅ **操作提示**：清晰的功能说明和操作指引
- ✅ **状态显示**：实时显示处理进度和状态

## 安装和使用

### 系统要求
- Python 3.7+
- macOS 或 Windows
- 支持中文字体的系统

### 依赖安装
```bash
pip install -r requirements.txt
```

### 运行程序
```bash
python main.py
```

### 使用步骤
1. **导入图片**：点击"导入图片"或"导入文件夹"
2. **设置水印**：输入文字、调整字体大小、选择颜色
3. **调整位置**：使用九宫格按钮或直接拖拽
4. **预览效果**：实时查看水印效果
5. **导出图片**：选择输出文件夹并导出

## 文件结构
```
Photo-Watermark-2/
├── main.py              # 主程序文件
├── requirements.txt     # 依赖包列表
├── README.md           # 说明文档
└── templates.json      # 模板配置文件（预留）
```

## 开发进度

### 已完成功能 (85%)
- ✅ 基础文件处理
- ✅ 文本水印功能
- ✅ 位置调整系统
- ✅ 实时预览系统
- ✅ 批量导出功能
- ✅ 中文支持
- ✅ 拖拽操作

### 待实现功能 (15%)
- ❌ 图片水印功能
- ❌ 水印模板系统
- ❌ 字体样式选项
- ❌ 图片尺寸调整

## 版本信息
- **当前版本**：v2.0
- **最后更新**：2024年10月
- **开发状态**：主要功能已完成，持续优化中

## 注意事项
- 程序会自动处理图片格式转换
- 建议在处理大量图片前先测试小批量
- 导出前请确保有足够的磁盘空间
- 支持中文文件名和路径

## 贡献
欢迎提交Issue和Pull Request来改进这个项目！

---

**注意**：本项目为课程作业，主要功能已完整实现，部分高级功能为可选实现。